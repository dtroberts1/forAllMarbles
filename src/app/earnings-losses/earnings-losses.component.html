<div style="background: #FFFFFF; box-shadow: 0 0 3px 0px #da3e3e; height: 400px; border-radius: 10px; margin-top: 4.7em; margin-right: 3em; margin-left: 1em">
    <div style="width: 100%; height: 100%; float: left;">
        <mat-tab-group 
        style="width: 100%; height: 100%; background: var(--card-color);"
        >
            <mat-tab label="Competitors">
                <div wmAnimate="landing" speed="slow">
                    <app-player-comparison-chart
                        [histories]="competitorHistories"
                        [user]="user"
                    >

                    </app-player-comparison-chart>
                </div>
            </mat-tab>
            <mat-tab label="Stats" style="height: 100%;">
                <div class="stats" *ngIf="todaysBidStats">
                    <div class="stat-cell" style="grid-row: 1; grid-column: 1;">
                        <label>
                            W/L Ratio
                        </label>
                        <div class="stat-val" [matTooltip]="trend.wLRatio != 0 ? ((trend.wLRatio >= 0 ? 'Increased ' : 'Decreased ') + 
                            (trend.wLRatio * 100).toFixed(2) + '% since yesterday') : 'No Change Since Yesterday'">
                            {{(todaysBidStats.wLRatio * 100).toFixed(2)}}% <mat-icon *ngIf="trend && trend.wLRatio < 0">trending_down</mat-icon>
                            <mat-icon style="color: forestgreen;" *ngIf="trend && trend.wLRatio > 0">trending_up</mat-icon>
                        </div>
                    </div>
                    <div class="stat-cell" style="grid-row: 2; grid-column: 1;">
                        <label>
                            Total Bid Count
                        </label>
                        <div class="stat-val" [matTooltip]="trend.totalBidCount != 0 ? (trend.totalBidCount >= 0 ? 'Increased ' : 'Decreased ') 
                            + (trend.totalBidCount) + ' since yesterday' : 'No Change since yesterday'">
                            {{todaysBidStats.totalBidCount}} <mat-icon *ngIf="trend && trend.totalBidCount < 0">trending_down</mat-icon>
                            <mat-icon style="color: forestgreen;" *ngIf="trend && trend.totalBidCount > 0">trending_up</mat-icon>
                        </div>
                    </div>
                    <div class="stat-cell" style="grid-row: 1; grid-column: 2;">
                        <label>
                            Total Earnings
                        </label>
                        <div class="stat-val" [matTooltip]="trend.totalEarnings != 0 ? (trend.totalEarnings >= 0 ? 'Increased ' : 'Decreased ') 
                            + (trend.totalEarnings >= 0 ? '$' + trend.totalEarnings : '-$' + (trend.totalEarnings * -1)) + ' since yesterday' : 'No Change since yesterday'">
                            {{todaysBidStats.totalEarnings >= 0 ? '$' + todaysBidStats.totalEarnings.toFixed(2) : '-$' + (todaysBidStats.totalEarnings * -1).toFixed(2)}} <mat-icon *ngIf="trend && trend.totalEarnings < 0">trending_down</mat-icon>
                            <mat-icon style="color: forestgreen;" *ngIf="trend && trend.totalEarnings > 0">trending_up</mat-icon>
                        </div>
                    </div>
                    <div class="stat-cell" style="grid-row: 2; grid-column: 2;">
                        <label>
                            Average Earnings
                        </label>
                        <div class="stat-val" [matTooltip]="trend.averageEarnings != 0 ? (trend.averageEarnings >= 0 ? 'Increased ' : 'Decreased ') 
                            + (trend.averageEarnings >= 0 ? '$' + trend.averageEarnings : '-$' + (trend.averageEarnings * -1)) + ' since yesterday' : 'No Change since yesterday'">
                            {{todaysBidStats.averageEarnings >= 0 ? '$' + todaysBidStats.averageEarnings : '-$' + (todaysBidStats.averageEarnings * -1)}}<mat-icon *ngIf="trend && trend.averageEarnings < 0">trending_down</mat-icon>
                            <mat-icon style="color: forestgreen;" *ngIf="trend && trend.averageEarnings > 0">trending_up</mat-icon>
                        </div>
                    </div>
                    <div class="stat-cell" style="grid-row: 1; grid-column: 3;">
                        <label>
                            Greatest Win
                        </label>
                        <div class="stat-val">
                            {{todaysBidStats.greatestWinBidName}}
                        </div>
                        <div class="stat-val" 
                            [ngStyle]="{'color': isThemeDark ? 'var(--primary-color)' : 'forestgreen'}"
                            [matTooltip]="trend.greatestWinYet != 0 ? (trend.greatestWinYet >= 0 ? 'Increased ' : 'Decreased ') + 
                            (trend.greatestWinYet >= 0 ? '$' + trend.greatestWinYet : '-$' + (trend.greatestWinYet * -1)) + ' since yesterday' : 'No Change since yesterday'">
                            {{todaysBidStats.greatestWinYet >= 0 ? ('$' + todaysBidStats.greatestWinYet) : '-$' + (todaysBidStats.greatestWinYet * -1)}}
                            <mat-icon *ngIf="trend && trend.greatestWinYet < 0">trending_down</mat-icon>
                            <mat-icon style="color: forestgreen;" *ngIf="trend && trend.greatestWinYet > 0">trending_up</mat-icon>
                        </div>
                    </div>
                    <div class="stat-cell" style="grid-row: 2; grid-column: 3;">
                        <label>
                            Worst Loss
                        </label>
                        <div class="stat-val">
                            {{todaysBidStats.worstLossBidName}}
                        </div>
                        <div class="stat-val" [matTooltip]="trend.worstLossYet != 0 ? (trend.worstLossYet >= 0 ? 'Increased ' : 'Decreased ') + 
                            ('-$' + trend.worstLossYet) + ' since yesterday': 'No Change since yesterday'">
                            {{'-$' + (todaysBidStats.worstLossYet * -1)}} <mat-icon *ngIf="trend && trend.worstLossYet < 0">trending_down</mat-icon>
                            <mat-icon style="color: forestgreen;" *ngIf="trend && trend.worstLossYet > 0">trending_up</mat-icon>
                        </div>
                    </div>
                </div>
            </mat-tab>
        </mat-tab-group>
</div>