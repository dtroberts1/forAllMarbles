<div id="toolbar-container">
    <div style="float: left; width: 50%;">
        <img style="height: 40px; width: 40px;" src="../../assets/icons/dice.png" />
    </div>
    <div id="toolbar-btns">
        <div class="toolbar-icon" id="notif-bell">
          <mat-icon
          id="notif-bell-mat-icon"
          [ngClass]="{'hide-bell-badge': !notificationList || !notificationList.length}"
          [ngStyle]="{'filter': notificationList && notificationList.length? 'brightness(1)':'brightness(0.5)',
        'opacity': notificationList && notificationList.length?'1' : '0.5'}"
          tabindex="1" [matBadge]="notificationUnreadCount" matBadgeColor="accent" 
          (click)="openNotificationMenu()" >notifications</mat-icon>
        </div>
        <div class="toolbar-icon" 
        >
            <mat-icon id="profile-dropdown-icon" tabindex="1" (click)="openProfileContext()" >person</mat-icon>
        </div>
    </div>
</div>

<div *ngIf="selectedFooterItem === 'profile'" class="profile-menu-card" tabindex="1"
#profileCard
(mousedown)="lockProfileCard($event)"
(blur)="blurCard($event)"
  >
  <div id="logout-btn" tabindex="1" (click)="logout($event)" class="prof-btn">
    Logout
  </div>
  <div class="prof-btn" tabindex="1" (click)="logout($event)" class="prof-btn">
    Account
  </div>
  <div class="prof-btn" tabindex="1" (click)="openPreferences($event)" class="prof-btn">
    Preferences
  </div>
  <div style="text-align: right; padding: 0 10px 0 10px;">
    User
  </div>
  <div style="text-align: right; padding: 0 10px 0 10px;">
      <span style="font-family: system-ui !important;" *ngIf="authUser">
        {{authUser.emailAddress}}
      </span>
  </div>
</div>

<div *ngIf="selectedFooterItem === 'notifications' && notificationList && notificationList.length" class="notification-menu" tabindex="1"
#notifications
(mousedown)="lockNotificationCard($event)"
(blur)="blurCard($event)"
  >
  <div class="notif-list-container">
    <ul>
      <li *ngFor="let notification of notificationList | slice:0:(!canSeeAllNotifs ? 3 : notificationList.length);">
        <div [ngClass]="{'is-marked-read':notification.isRead}" style="width: 100%; height: 100%; display: flex; align-items: center; font-size: 1.08rem;">
          <div class="notif-img-container">
            <div>
                <mat-icon *ngIf="!notification.type"  style="color: forestgreen;"> attach_money</mat-icon>
                <img *ngIf="notification.type" 
                [ngClass]="{'victory':notification.type === 'victory',
                'counter-offer': notification.type === 'counter_offer',
                'added-document':notification.type === 'added_document',
                'approved':notification.type === 'approved',
                'defeat': notification.type === 'defeat'}" 
                class="notification-icon" style="height: 24px; width: 24px;"  />
            </div>
            <div class="mark-notif-as-read">
              <mat-icon 
              [matTooltip]="'Mark as read'"
              [matTooltipClass]="{ 'notification-trash-tooltip': true }" 
              (click)="markNotificationAsRead(notification)">remove_red_eye</mat-icon>
            </div>
          </div>
          <div class="notif-item-container">
            {{notification.notificationText}}
            <div class="notif-time-container">
              {{notification.recencyString}}
              <div class="notification-dot">.</div>
            </div>
          </div>
          <div class="notification-trash-can">
            <div>
              <mat-icon     
              [matTooltip]="'Delete Notification'"
              [matTooltipClass]="{ 'notification-trash-tooltip': true }" 
              
              (click)="deleteNotification(notification)" style="color: red; ">delete</mat-icon>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>
  <div id="notif-collapser" [ngStyle]="{'visibility': notificationList && notificationList.length > 3 ? 'visible' : 'hidden'}" 
    class="view-all-notif" tabindex="1" 
    (mousedown)="toggleCollapse($event)">
    {{canSeeAllNotifs ? 'Collapse' : 'See All'}}
    
  </div>
</div>